{"version":3,"sources":["services/serverService.js","components/Home.js","components/PatientDetails.js","components/Notification.js","components/Header.js","components/App.js","index.js"],"names":["baseUrl","server","getPatients","axios","get","then","response","data","uploadPatientList","formData","post","getPatientInfo","id","Home","fileChangeHandler","patientData","dataRenderHandler","className","shadow","length","appearance","size","type","onChange","PatientDetails","patientDetail","backButtonHandler","name","age","gender","contact","address","onClick","Notification","message","title","Header","AppBar","position","Toolbar","Typography","variant","App","useState","setPatientData","showDetails","setShowDetails","patientDetails","setPatientDetails","setMessage","messageType","setMessageType","displayNotification","setTimeout","fetchPatientDetail","catch","error","console","useEffect","serverData","event","log","target","files","fileName","toLowerCase","includes","FormData","append","csvData","options","filter","filterType","responsive","selectablerows","onRowClick","rowData","columns","label","sort","display","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7f593aa4.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseUrl = \"/patients\";\n\nconst getPatients = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst uploadPatientList = (formData) => {\n  const request = axios.post(baseUrl, formData);\n  return request.then((response) => response.data);\n};\n\nconst getPatientInfo = (id) => {\n  const request = axios.get(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst server = { getPatients, uploadPatientList, getPatientInfo };\n\nexport default server;\n","/* eslint-disable react/prop-types */\nimport React from \"react\";\nimport { Card, Spinner } from \"@innovaccer/design-system\";\n\nconst Home = ({ fileChangeHandler, patientData, dataRenderHandler }) => {\n  return (\n    <div>\n      <div className=\"homeContainer\">\n        <h2>Patient Details</h2>\n        <Card shadow=\"dark\">\n          {patientData.length > 0 ? (\n            dataRenderHandler(patientData)\n          ) : (\n            <Spinner appearance=\"primary\" size=\"medium\" />\n          )}\n        </Card>\n        <h2>Upload Patient List</h2>\n        <Card shadow=\"dark\" className=\"w-100 h-100\">\n          <input type=\"file\" onChange={fileChangeHandler} />\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","/* eslint-disable react/prop-types */\nimport { Button, Card } from \"@innovaccer/design-system\";\nimport React from \"react\";\n\nconst PatientDetails = ({ patientDetail, backButtonHandler }) => {\n  return (\n    <div>\n      <div className=\"homeContainer\">\n        <Card className=\"h-100\">\n          <table>\n            <tbody>\n              <tr>\n                <td className=\"imp\">Name</td>\n                <td>{patientDetail?.name ?? \"--\"}</td>\n              </tr>\n              <tr>\n                <td className=\"imp\">Age</td>\n                <td>{patientDetail?.age ?? \"--\"}</td>\n              </tr>\n              <tr>\n                <td className=\"imp\">Gender</td>\n                <td>{patientDetail?.gender ?? \"--\"}</td>\n              </tr>\n              <tr>\n                <td className=\"imp\">Contact</td>\n                <td>{patientDetail?.contact ?? \"--\"}</td>\n              </tr>\n              <tr>\n                <td className=\"imp\">Address</td>\n                <td>{patientDetail?.address ?? \"--\"}</td>\n              </tr>\n            </tbody>\n          </table>\n          <Button appearance=\"primary\" onClick={backButtonHandler}>\n            Go Back\n          </Button>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default PatientDetails;\n","/* eslint-disable react/prop-types */\nimport { Toast } from \"@innovaccer/design-system\";\nimport React from \"react\";\n\nconst Notification = ({ message, type }) => {\n  if (message === null) return null;\n  return (\n    <div className=\"mr-5 mb-8\">\n      <Toast appearance={type} title={message} />\n    </div>\n  );\n};\n\nexport default Notification;\n","/* eslint-disable react/prop-types */\nimport React from \"react\";\nimport { AppBar, Toolbar, Typography } from \"@material-ui/core\";\n\nconst Header = ({ title }) => {\n  return (\n    <AppBar position=\"static\">\n      <Toolbar>\n        <Typography variant=\"h5\">{title}</Typography>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default Header;\n","import React, { useEffect, useState } from \"react\";\nimport server from \"../services/serverService\";\nimport MUIDataTable from \"mui-datatables\";\nimport Home from \"./Home\";\nimport PatientDetails from \"./PatientDetails\";\nimport Notification from \"./Notification\";\nimport Header from \"./Header\";\n\nconst App = () => {\n  const [patientData, setPatientData] = useState([]);\n  const [showDetails, setShowDetails] = useState(false);\n  const [patientDetails, setPatientDetails] = useState(null);\n  const [message, setMessage] = useState(null);\n  const [messageType, setMessageType] = useState(null);\n\n  const displayNotification = (message, type) => {\n    setMessage(message);\n    setMessageType(type);\n    setTimeout(() => {\n      setMessage(null);\n      setMessageType(null);\n    }, 1000);\n  };\n\n  const renderData = (data) => {\n    /*return data.map((patient) => (\n      <p key={patient.contact}>\n        {patient.name} {patient.age} {patient.gender} {patient.contact}\n      </p>\n    )); */\n    let columns = [\n      {\n        name: \"name\",\n        label: \"Name\",\n        options: {\n          sort: true,\n        },\n      },\n      {\n        name: \"age\",\n        label: \"Age\",\n        options: {\n          sort: true,\n        },\n      },\n      {\n        name: \"gender\",\n        label: \"Gender\",\n        options: {\n          sort: true,\n        },\n      },\n      {\n        name: \"contact\",\n        label: \"Contact\",\n        options: {\n          sort: true,\n        },\n      },\n      {\n        name: \"id\",\n        label: \"ID\",\n        options: {\n          display: \"excluded\",\n        },\n      },\n    ];\n\n    const options = {\n      filter: false,\n      filterType: \"checkbox\",\n      responsive: \"standard\",\n      selectablerows: true,\n      onRowClick: (rowData) => {\n        console.log(\"Row clicked\", rowData);\n        fetchPatientDetail(rowData[4]);\n      },\n    };\n\n    return (\n      <MUIDataTable\n        title=\"Patient List\"\n        data={data}\n        columns={columns}\n        options={options}\n      />\n    );\n  };\n\n  const onChangeHandler = (event) => {\n    setPatientData([]);\n    console.log(event.target.files[0]);\n\n    //check if the file types are csv/sheets\n    let fileName = event.target.files[0].name;\n    if (\n      !fileName.toLowerCase().includes(\"csv\") &&\n      !fileName.toLowerCase().includes(\"xls\")\n    ) {\n      displayNotification(\"Please select xls or csv files only!\", \"alert\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"Data\", event.target.files[0], fileName);\n    server\n      .uploadPatientList(formData)\n      .then((csvData) => {\n        console.log(csvData);\n        setPatientData(csvData);\n        displayNotification(\"Data Fetched Successfully\", \"success\");\n      })\n      .catch((error) => {\n        console.error(error);\n        displayNotification(\n          \"Error Fetching Details from the server, Try again\",\n          \"alert\"\n        );\n      });\n  };\n\n  const fetchPatientDetail = (id) => {\n    server\n      .getPatientInfo(id)\n      .then((data) => {\n        setPatientDetails(data);\n        setShowDetails(true);\n        displayNotification(\"Patient Details Fetched\", \"success\");\n      })\n      .catch((error) => {\n        console.error(error);\n        displayNotification(\n          \"Error Fetching Details from the server, Try again\",\n          \"alert\"\n        );\n      });\n  };\n\n  useEffect(() => {\n    server.getPatients().then((serverData) => {\n      if (serverData) {\n        setPatientData(serverData);\n        displayNotification(\"Stored data loaded from database\", \"success\");\n      }\n    });\n  }, []);\n\n  return (\n    <div>\n      {showDetails ? (\n        <>\n          <Header title=\"Patient Details\" />\n          <Notification message={message} type={messageType} />\n          <PatientDetails\n            patientDetail={patientDetails}\n            backButtonHandler={() => setShowDetails(false)}\n          />\n        </>\n      ) : (\n        <>\n          <Header title=\"Patient Info Application\" />\n          <Notification message={message} type={messageType} />\n          <Home\n            fileChangeHandler={onChangeHandler}\n            patientData={patientData}\n            dataRenderHandler={renderData}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"@innovaccer/design-system/css\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}