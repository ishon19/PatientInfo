(this.webpackJsonppatientinfo=this.webpackJsonppatientinfo||[]).push([[0],{395:function(e,t,n){},662:function(e,t,n){"use strict";n.r(t);var a=n(10),c=n(0),i=n(13),s=n.n(i),l=(n(395),n(396),n(105)),r=n(187),o=n.n(r),d="/patients",j={getPatients:function(){return o.a.get(d).then((function(e){return e.data}))},uploadPatientList:function(e){return o.a.post(d,e).then((function(e){return e.data}))},getPatientInfo:function(e){return o.a.get("".concat(d,"/").concat(e)).then((function(e){return e.data}))}},u=n(376),b=n.n(u),h=n(74),O=function(e){var t=e.fileChangeHandler,n=e.patientData,c=e.dataRenderHandler;return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"homeContainer",children:[Object(a.jsx)("h2",{children:"Patient Details"}),Object(a.jsx)(h.b,{shadow:"dark",children:n.length>0?c(n):Object(a.jsx)("p",{children:"Please Upload the CSV/XLS File First"})}),Object(a.jsx)("h2",{children:"Upload Patient List"}),Object(a.jsx)(h.b,{shadow:"dark",className:"w-100 h-100",children:Object(a.jsx)("input",{type:"file",onChange:t})})]})})},x=function(e){var t,n,c,i,s,l=e.patientDetail,r=e.backButtonHandler;return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"homeContainer",children:Object(a.jsxs)(h.b,{className:"h-100",children:[Object(a.jsx)("table",{children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"imp",children:"Name"}),Object(a.jsx)("td",{children:null!==(t=null===l||void 0===l?void 0:l.name)&&void 0!==t?t:"--"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"imp",children:"Age"}),Object(a.jsx)("td",{children:null!==(n=null===l||void 0===l?void 0:l.age)&&void 0!==n?n:"--"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"imp",children:"Gender"}),Object(a.jsx)("td",{children:null!==(c=null===l||void 0===l?void 0:l.gender)&&void 0!==c?c:"--"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"imp",children:"Contact"}),Object(a.jsx)("td",{children:null!==(i=null===l||void 0===l?void 0:l.contact)&&void 0!==i?i:"--"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"imp",children:"Address"}),Object(a.jsx)("td",{children:null!==(s=null===l||void 0===l?void 0:l.address)&&void 0!==s?s:"--"})]})]})}),Object(a.jsx)(h.a,{appearance:"primary",onClick:r,children:"Go Back"})]})})})},p=function(e){var t=e.message,n=e.type;return null===t?null:Object(a.jsx)("div",{className:"mr-5 mb-8",children:Object(a.jsx)(h.c,{appearance:n,title:t})})},f=n(684),m=n(355),v=n(86),g=function(e){var t=e.title;return Object(a.jsx)(f.a,{position:"static",children:Object(a.jsx)(m.a,{children:Object(a.jsx)(v.a,{variant:"h5",children:t})})})},y=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(!1),r=Object(l.a)(s,2),o=r[0],d=r[1],u=Object(c.useState)(null),h=Object(l.a)(u,2),f=h[0],m=h[1],v=Object(c.useState)(null),y=Object(l.a)(v,2),D=y[0],P=y[1],C=Object(c.useState)(null),N=Object(l.a)(C,2),k=N[0],w=N[1],F=function(e,t){P(e),w(t),setTimeout((function(){P(null),w(null)}),1e3)},S=function(e){j.getPatientInfo(e).then((function(e){m(e),d(!0),F("Patient Details Fetched","success")})).catch((function(e){console.error(e),F("Error Fetching Details from the server, Try again","alert")}))};return Object(a.jsx)("div",{children:o?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(g,{title:"Patient Details"}),Object(a.jsx)(p,{message:D,type:k}),Object(a.jsx)(x,{patientDetail:f,backButtonHandler:function(){return d(!1)}})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(g,{title:"Patient Info Application"}),Object(a.jsx)(p,{message:D,type:k}),Object(a.jsx)(O,{fileChangeHandler:function(e){i([]),console.log(e.target.files[0]);var t=e.target.files[0].name;if(t.toLowerCase().includes("csv")||t.toLowerCase().includes("xls")){var n=new FormData;n.append("Data",e.target.files[0],t),j.uploadPatientList(n).then((function(e){console.log(e),i(e),F("Data Fetched Successfully","success")})).catch((function(e){console.error(e),F("Error Fetching Details from the server, Try again","alert")}))}else F("Please select xls or csv files only!","alert")},patientData:n,dataRenderHandler:function(e){var t={filter:!1,filterType:"checkbox",responsive:"standard",selectablerows:!0,onRowClick:function(e){console.log("Row clicked",e),S(e[4])}};return Object(a.jsx)(b.a,{title:"Patient List",data:e,columns:[{name:"name",label:"Name",options:{sort:!0}},{name:"age",label:"Age",options:{sort:!0}},{name:"gender",label:"Gender",options:{sort:!0}},{name:"contact",label:"Contact",options:{sort:!0}},{name:"id",label:"ID",options:{display:"excluded"}}],options:t})}})]})})};s.a.render(Object(a.jsx)(y,{}),document.getElementById("root"))}},[[662,1,2]]]);
//# sourceMappingURL=main.f832f0bf.chunk.js.map